/*
 * Led.c
 *
 *  Created on: Sep 13, 2022
 *      Author: student
 */

#include "Led.h"
#include "cmsis_os.h"
#include <stdio.h>
#include <stdlib.h>

extern Led ledR;
extern Led ledB;
static int delay = 500;


void Led_init(Led* led , GPIO_TypeDef* GPIOx , uint16_t GPIO_Pin)
{
	led->state = STATE_OFF;
	led->counter = 0 ;
	led->GPIOx = GPIOx;
	led->GPIO_Pin = GPIO_Pin;
}


void Entry_blinkTask(void *argument)
{
  /* USER CODE BEGIN Entry_blinkTask */
  /* Infinite loop */
  for(;;)
  {
	  HAL_GPIO_TogglePin(LD2_GPIO_Port, LD2_Pin);
	  osDelay(delay);

  }
  /* USER CODE END Entry_blinkTask */
}

void Entry_blinkRedTask(void *argument)
{
  /* USER CODE BEGIN Entry_blinkRedTask */
  /* Infinite loop */
  for(;;)
  {
	HAL_GPIO_TogglePin(LD2_GPIO_Port, LD2_Pin);
    osDelay(1);
  }
  /* USER CODE END Entry_blinkRedTask */
}

void BlinkLed(void* obj, char* param);
{
	Led *led = (Led*)obj;
	delay= atoi (param);
}
